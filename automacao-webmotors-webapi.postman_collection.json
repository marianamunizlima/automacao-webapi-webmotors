{
	"info": {
		"_postman_id": "113b0a7e-7000-4bb1-a704-7ba822da5748",
		"name": "automacao-webmotors-webapi",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Helpers",
			"item": [
				{
					"name": "helper",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ca6b09a-ee19-48c8-8745-54136bbaf58f",
								"exec": [
									"pm.test(\"Status code é igual a 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"// Headers",
									"pm.environment.set(\"content-Type\", \"application/json\");",
									"",
									"//Paginação",
									"pm.environment.set(\"pagina1\", \"1\");",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{WebApiHttp}}",
							"host": [
								"{{WebApiHttp}}"
							]
						}
					},
					"response": []
				}
			],
			"description": "Configurações de variáveis de ambiente\n"
		},
		{
			"name": "Cenários",
			"item": [
				{
					"name": "Consultar Marcas",
					"item": [
						{
							"name": "Step: GET Consultar Marcas",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e6b557df-7320-4a28-bf52-7ee457695784",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											"//Marcas",
											"pm.environment.set(\"chevrolet\", jsonData[0].ID);",
											"pm.environment.set(\"honda\", jsonData[1].ID);",
											"pm.environment.set(\"ford\", jsonData[2].ID);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
										"key": "content-type",
										"value": "{{content-Type}}",
										"type": "text"
									},
									{
										"key": "Signature",
										"value": "SignedHeaders",
										"type": "text",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Make",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Make"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"name": "Consultar Modelos",
					"item": [
						{
							"name": "Step: GET Consultar Modelos - Chevrolet",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											"//Modelos - Id",
											"pm.environment.set(\"idAgile\", jsonData[0].ID);",
											"pm.environment.set(\"idAstra\", jsonData[1].ID);",
											"pm.environment.set(\"idOnix\", jsonData[2].ID);",
											"",
											"//Modelos - Nome",
											"pm.environment.set(\"agile\", jsonData[0].Name);",
											"pm.environment.set(\"astra\", jsonData[1].Name);",
											"pm.environment.set(\"onix\", jsonData[2].Name);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"value": "{{content-Type}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Model?MakeID={{chevrolet}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Model"
									],
									"query": [
										{
											"key": "MakeID",
											"value": "{{chevrolet}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Step: GET Consultar Modelos - Honda",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											"pm.test(\"Contém modelo 'City'\", function () {",
											"    pm.expect(pm.response.text()).to.include(\"City\");",
											"});",
											"",
											"",
											"//Modelos - Id",
											"pm.environment.set(\"idCity\", jsonData[0].ID);",
											"pm.environment.set(\"idCrv\", jsonData[1].ID);",
											"pm.environment.set(\"idFit\", jsonData[2].ID);",
											"",
											"//Modelos - Nome",
											"pm.environment.set(\"city\", jsonData[0].Name);",
											"pm.environment.set(\"crv\", jsonData[1].Name);",
											"pm.environment.set(\"fit\", jsonData[2].Name);",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "{{content-Type}}"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Model?MakeID={{honda}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Model"
									],
									"query": [
										{
											"key": "MakeID",
											"value": "{{honda}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Step: GET Consultar Modelos - Ford",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											"//Modelos - Id",
											"pm.environment.set(\"idEcosport\", jsonData[0].ID);",
											"pm.environment.set(\"idFusion\", jsonData[1].ID);",
											"",
											"//Modelos - Nome",
											"pm.environment.set(\"ecosport\", jsonData[0].Name);",
											"pm.environment.set(\"fusion\", jsonData[1].Name);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "{{content-Type}}"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Model?MakeID={{ford}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Model"
									],
									"query": [
										{
											"key": "MakeID",
											"value": "{{ford}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Consulta de modelos de carros por marca.",
					"_postman_isSubFolder": true
				},
				{
					"name": "Consultar Versões",
					"item": [
						{
							"name": "Step: GET Consultar Versões do Modelo - Chevrolet Astra",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"value": "{{content-Type}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Version?ModelID={{idAstra}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Version"
									],
									"query": [
										{
											"key": "ModelID",
											"value": "{{idAstra}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Step: GET Consultar Versões do Modelo - Honda City",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "{{content-Type}}"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Version?ModelID={{idCity}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Version"
									],
									"query": [
										{
											"key": "ModelID",
											"value": "{{idCity}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Step: GET Consultar Versões do Modelo - Ford Fusion",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "{{content-Type}}"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Version?ModelID={{idFusion}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Version"
									],
									"query": [
										{
											"key": "ModelID",
											"value": "{{idFusion}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Consulta de modelos de carros por marca.",
					"_postman_isSubFolder": true
				},
				{
					"name": "Consultar Veículos",
					"item": [
						{
							"name": "Step: GET Consultar Veículos",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "433a57f7-a97b-4ded-80e9-a2a8e057b147",
										"exec": [
											"var jsonData = pm.response.json();",
											"",
											"pm.test(\"Status code é igual a 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Resultado não é nulo\", function () {",
											"    pm.expect(jsonData[0]).not.eql(null);",
											"});",
											"",
											"",
											"pm.test(\"Resultado contém marca 'Honda' \", function () {",
											"    pm.expect(pm.response.text()).to.include(\"Honda\");",
											"});",
											"",
											"pm.test(\"Resultado contém modelo 'City' \", function () {",
											"    pm.expect(pm.response.text()).to.include(pm.variables.get(\"city\"));",
											"",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "content-type",
										"type": "text",
										"value": "{{content-Type}}"
									}
								],
								"url": {
									"raw": "{{WebApiHttp}}/api/OnlineChallenge/Vehicles?Page={{pagina1}}",
									"host": [
										"{{WebApiHttp}}"
									],
									"path": [
										"api",
										"OnlineChallenge",
										"Vehicles"
									],
									"query": [
										{
											"key": "Page",
											"value": "{{pagina1}}"
										}
									]
								}
							},
							"response": []
						}
					],
					"description": "Consulta de modelos de carros por marca.",
					"_postman_isSubFolder": true
				}
			]
		}
	]
}